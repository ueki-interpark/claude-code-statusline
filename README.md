# claude-code-statusline

[Claude Code](https://docs.anthropic.com/en/docs/claude-code) CLI ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã§ã™ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’ã²ã¨ç›®ã§ç¢ºèªã§ãã¾ã™ã€‚

## ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```
ğŸ”€ ~/source/my-project on ğŸŒ¿ feature/auth
ğŸ¤– Claude Opus 4.6 | ğŸ’° $0.1234 | ğŸ§  [########------------] 40%
```

## æ©Ÿèƒ½

- **ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª** - ãƒ›ãƒ¼ãƒ ã‚’ `~` ã«ç½®æ›ã—ãŸçŸ­ç¸®ãƒ‘ã‚¹è¡¨ç¤º
- **Gitãƒ–ãƒ©ãƒ³ãƒ** - Gitãƒªãƒã‚¸ãƒˆãƒªå†…ã§ã¯ãƒ–ãƒ©ãƒ³ãƒåã‚’è¡¨ç¤º
- **ãƒ¢ãƒ‡ãƒ«å** - ä½¿ç”¨ä¸­ã®Claudeãƒ¢ãƒ‡ãƒ«ã‚’è¡¨ç¤º
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚³ã‚¹ãƒˆ** - ç´¯è¨ˆã‚³ã‚¹ãƒˆï¼ˆUSDï¼‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½¿ç”¨ç‡** - è‰²ä»˜ããƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã§è¦–è¦šçš„ã«è¡¨ç¤º:
  - ç·‘: 50%æœªæº€
  - é»„: 50-79%
  - èµ¤: 80%ä»¥ä¸Š

## å‰ææ¡ä»¶

- **jq** - JSONè§£æã«å¿…è¦
- **git** - ãƒ–ãƒ©ãƒ³ãƒè¡¨ç¤ºã«ä½¿ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
git clone https://github.com/ueki-interpark/claude-code-statusline.git
cd claude-code-statusline
./install.sh
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’è¡Œã„ã¾ã™:
1. `statusline.sh` ã‚’ `~/.claude/` ã«ã‚³ãƒ”ãƒ¼
2. `~/.claude/settings.json` ã« statusLine è¨­å®šã‚’è¿½åŠ 
3. æ—¢å­˜ã® settings.json ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

### æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. `statusline.sh` ã‚’ `~/.claude/` ã«ã‚³ãƒ”ãƒ¼:

```bash
cp statusline.sh ~/.claude/statusline.sh
chmod +x ~/.claude/statusline.sh
```

2. `~/.claude/settings.json` ã«ä»¥ä¸‹ã‚’è¿½åŠ :

```json
{
  "statusLine": {
    "type": "command",
    "command": "~/.claude/statusline.sh"
  }
}
```

3. Claude Code ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

## ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`~/.claude/statusline.sh` ã‚’ç·¨é›†ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ¨™æº–å…¥åŠ›ã‹ã‚‰ä»¥ä¸‹ã®JSONã‚’å—ã‘å–ã‚Šã¾ã™:

### å…¥åŠ›ã‚¹ã‚­ãƒ¼ãƒ

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | èª¬æ˜ |
|-------|------|-------------|
| `model.display_name` | string | ä½¿ç”¨ä¸­ã®ãƒ¢ãƒ‡ãƒ«åï¼ˆä¾‹: "Claude Opus 4.6"ï¼‰ |
| `cost.total_cost_usd` | number | ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®åˆè¨ˆã‚³ã‚¹ãƒˆï¼ˆUSDï¼‰ |
| `context_window.used_percentage` | number | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ä½¿ç”¨ç‡ï¼ˆ0-100ï¼‰ |
| `cwd` | string | ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºä¾‹

**ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´:**

```bash
# ãƒ–ãƒ­ãƒƒã‚¯æ–‡å­—ã‚’ä½¿ç”¨
BAR=$(printf "%${FILLED}s" | tr ' ' 'â–ˆ')$(printf "%${EMPTY}s" | tr ' ' 'â–‘')
```

**è­¦å‘Šã—ãã„å€¤ã®å¤‰æ›´:**

```bash
# ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè­¦å‘Šã‚’60%ã«å¤‰æ›´
if [ "$USED_INT" -ge 60 ]; then
  CTX_COLOR="$RED"
fi
```

**ã‚¢ã‚¤ã‚³ãƒ³ã®å‰Šé™¤ï¼ˆçµµæ–‡å­—éå¯¾å¿œã‚¿ãƒ¼ãƒŸãƒŠãƒ«å‘ã‘ï¼‰:**

```bash
LINE1="${CYAN}${SHORT_DIR}${RESET} ${DIM}on${RESET} ${MAGENTA}${BRANCH}${RESET}"
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[MIT](LICENSE)
